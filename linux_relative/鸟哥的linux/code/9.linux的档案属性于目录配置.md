Linux 最优秀的地方之一，就在于他的多人多任务的环境。linux一般将大难可存取的方式分为3个类别，分别是 owner/group/other,
且个左右 read/write/excute 等权限。

##### 使用者及群组的概念说明

* 档案拥有者
 因为linux是个多人多任务的系统，一次可能常常会有多人同事使用这部主机来进行工作的情况发生。

* 群组概念

樽俎最简单的功能之一，就是当您在团队开发资源的时候最有用

* 其他人的概念

#####  所有的系统上的帐号与一般身份使用者，还有按个root的相关信息，都是记录在 /etc/passwd这个档案内的，至于密码则是记录在 /etc/shadow 这个当按下。 所有的群组名记录在  /etc/group



#### linux档案权限概念
ls-al 表示列出所有的档案（包括隐藏档，就是档名前面第一个字符为 . 的那种档案）

-rwxrwxrwx | 1 | root | root | 293 | Oct 19 20:24 | test
--|--|--|--|--|--|--
档案属性 | 连接数 | 档案拥有者 | 档案所属群组 | 档案容量 | 档案最后被修改时间 | 档名 

1. 第一栏代表这个档案的属性： ！！ 这个地方一共有是个属性
 -rwxrwx---
r: 可读
w： 可写
X： 可执行
前三个属性 代表档案拥有者之属性
中间三个属性 代表档案所属群组值属性
后三个属性 其他人对此档案的属性


第一个属性代表这个档案是『目录、档案或连结文件等等』：
* 当为[ d ]则是目录，例如上表的第 11 行；
* 当为[ - ]则是档案，例如上表的第 5 行；
* 若是[ l ]则表示为连结档(link file)；
* 若是[ b ]则表示为装置文件里面的可供储存的接口设备；
* 若是[ c ]则表示为装置文件里面的串行端口设备，例如键盘、鼠标

[-][rwx][r-x][r--]
1   234  567  890
1 为：代表这个文件名为目录或档案（上面为档案）
234为：拥有人的权限（上面为可读、可写、可执行）
567为：同群组使用者权限（上面为可读可执行）
890为：其它使用者权限（上面为仅可读）


例题一：如果有下面的两个档案，请说明两个档

-rw-r--r-- 1 root root 238 Jun 18 17:22 test.txt

-rwxr-xr-- 1 test1 testgroup 5238 Jun 19 10:25 ping_tsai

##### linux 档案属性的重要性

每一个档案都多家了很多的属性进来，尤其是群组的概念。最大的用户就是安全性。
再本来只有 root 才能做的开关机、ADSL 的拨接程序、新增或删除使用者等等的指令，若被你改成任何人都可以执行的话， 那么如果使用者不小心给你重新开机啦！重新拨接啦！等等的！那么你的系统不就会常常莫名其妙的挂掉啰！ 而且万一你的使用者的密码被其它不明人士取得的话，只要他登入你的系统就可以轻而易举的执行一些 root 的工作！可怕吧！因此，在你修改你的 linux 档案与目录的属性之前， 一定要先搞清楚，什么是可变的，什么是不可变的！千万注意啰！


##### 改变档案权限

* chgrp： 改变档案所属群组
* chown： 改变档案所属人
* chmod： 改变档案的属性、SUID、等等的属性

###### 改变所属群组 chgrp

chgrp [-R] dirname/filename 

chgrp users install.log
ls -l

-rw-r--r-- 1 root users 66 Jun 25 08:53 install.log

###### 改变档案拥有者 chown

chown [-R] 帐号名称 档案或目录

chown [-R] 站好名称：群组名称 档案或目录


cp 来源档案 目的档案

###### 改变九个属性 chmod

chmod [-R] xyz 档案或目录


*  数字类型改变档案权限

r: 4
w: 2
x: 1

rwx 4 + 2 + 1 = 7

rw- 4 + 2 + 0 = 6

--- 0 + 0 + 0 = 0

参数：
xyz  就是上述 760

* 符号类型改变档案属性

###### 目录属性的意义：

* r (read contents in directory) : 表示具有读取目录结构清单的权限。 可以用ls将目录的内容列出来

* w (modify contents of directory) : 表示具有异动该目录结构清单的权限。
 * 建立新的档案于目录
 * 删除已经存在的档案于目录
 * 将以存在的档案或目录进行更名
 * 半以该目录内的档案、目录位置

* x （access directory）能否进入改目录


#### linux 档案种类和附档名

任何装置在linux下都是档案，连数据沟通的接口也有专属的档案在负责。

* 档案种类

 * 正规档案（regular file）： 就是一般我们进行存取的类型的档案。在有ls -al 所显示出来的属性方面， 第一个属性为 [-],又可分为
 
     * 纯文字文件（ASCII）： 这是Unix系统中最多的一种档案类型。
     * 二进制文件（binary）： 二进制档案，linux中可执行档就是这种格式的
     * 数据格式文件（data）: 有些程序在御座的过程中回去读某些特定格式的档案，数据文件（data file）。
   
 * 目录 （directory）： 第一个属性为 [d]，
 * 连接档 （link）: 就是类似Window下的快捷方式！第一个属性为[l]
 * 设备与装置文件 (device) : 与系统周边及储存等相关的一些档案，通常都集中在 /dev 这个目录下 通常分为两种：
 
     * 区块(block) 设备档： 就是一些储存数据，以提供系统存取的接口设备，简单说就是硬盘啦。 、dev/hda1 第一个属性为[b]
     * 字符(charactor)设备档: 一些穿行端口的接口设备，键盘鼠标等 第一个属性为[c]
   
 * 资料接口文件(sockets): 既然被称为数据接口文件，用在网络上的数据承接了。我们可以启动一个程序来监听客户端的要求，而客户端就可以通过这个socket 来进行数据的沟通了。 第一个属性为[s],最常在 /var/run 这个目录中看到这种档案类型了。
 * 数据输送文件(FIFO,pipe) : FIFO也是一种特殊的档案类型，解决多个程序同事存取一个i额档案所造成的错误问题。第一个属性为[p]

* Linux 档案附档名
 linux中档案的使用决定与附带的属性值，附档名没有什么真的帮助。通常我们还是回忆适当的附档名来表示改档案是什么种类的。常用的附档名：
     * *.sh : 批次当(scripts) , 以为批次当未使用shell写成的，所以附档名就编成。sh
     *  *Z, *.tar, *.tar.gz, *.zip, *.tgz : 经过打包的压缩档。
     *  *.html,*.php: 网页相关档案，
     *  另外还有程序序言如perl的档案，.pl， 

* Linux 文件名的限制
 由于在Linux在文字借口下的一些指令操作关系，文件名避免特殊字符
   ? > < ; & ! [ ] | \ ' " ` ( ) { }
  文件名开头不要 . - +
  
#### Linux 目录配置

#### Linux目录配置的依据 FHS

Filesystem Hierarchy Standard 规定最上层(/)及次层(/usr,/var)的目录内容应该要防止的档案数据。

Linux 所有的档案与目录都是由更目录 / 开始的，像树状。 目录树 [directory tree], 有以下特征：

     * 目录树的起始点为根目录(/,root);
     * 每一个目录不止能使用本地端的partition的档案系统，也可以使用网络上的filesystem。举例： 可以利用Network File System ( NFS) 服务器挂在某特定目录等。
     * 每一个档案再次目录树中的文件名（包含完整路径）都是独一无二的
    
根据档名写法不同，可以将路径（path) 定义为绝对路径(absolute)与相对路径(relative)。

根据FHS定义出来的每个目录内应该放置的档案内容为：

目录|应该防止的文档内容
--|--
/|根目录root(/),一般建议在根目录底下只接目录，不要直接由档案在/底下。根目录是开机的时候系统第一个挂在的partition，所以，所有的开机过程会用到的档案，应该都要防止在这个partition当中。举例来说， /etc，/bin，/dev，/lib，/sbin这五个次目录都应该要与更目录连在一起，不可独立成为某个partition呢！
/bin,/usr/bin,/usr/local/bin|除了/bin之外，/usr/local/bin,/usr/bin也是防止【使用者可执行的binary file的目录】喔！举例来说，ls,mv,rm,mkdir,rmdir,gzip,tar,cat,cp,mount等等重要指令都放在这个目录当中。
/boot|这个目录主要目的是放置Linux系统开机会用到的档案。linux的核心档案。目录地下文件名为vmlinuz 就是Linux的Kernel。
/dev|在Linux系统上，任何装置于接口设备都是已暗暗的形态存在于这个目录当中的。主要分为接口设备(character device)储存设备(block device).
/etc|系统主要的设定文件几乎都放置在这个目录内，例如恩怨的帐号密码文件、各种服务的起始档等等。一般来说这个目录下的个档案属性是可以让一般使用者查阅的。但是只有root有权利修改。并且再次目录下的档案几乎都是ASCII的纯文本文件里。FHS建议不要防止可执行文件在这个目录中。比较重要的档案由： /etc/inittab,/etc/init.d/,/etc/modprobe.conf,/etc/X11,/etc/fstab,/etc/sysconfig等等。另外其下重要的目录有：/etc/init.d/: 所有的服务的预设启动script都是放在这里的，例如要启动或者关闭iptables的话。/etc/xinetd.d/:这就是所谓的super saemon 管理的各项服务的设定文件目录/etc/X11: 与XWindow哟欧冠的各种设定档都在这里，尤其是xorg.conf或XF86config这两个 X Server的设定档
/home | 这是系统预设的使用者家目录(home directory)。在你新增一个一般使用者账号时，预设的使用者家目录都会规范到这里来。比较重要的是，家目录有两种代号： ~： 代表目前这个使用者的家目录，而 ~dmtsai 则代表dmtsai的家目录。
/lib,/usr/lib,/usr/local/lib | 系统会是用到的函式库繁殖的目录。程序在运作的过程汇总，可能会呼叫一些课外的功能参数，那需要函式库的协助。
/lost+found | 系统不正常产生错误时，会将一些一时的片段放置于次目录下，通常这个目录会自动出现在某个partition最顶层的目录下。
/mnt,/media | 这是软盘与光盘预设挂在店的地方： 通常软盘挂在/mnt/floppy 下，
/opt | 这是给主机额外安装软件所摆放的目录。
/ proc | 这个目录本身是一个【虚拟档案系统】目录下的数据都是放在内存当中的
/root | 系统管理员的家目录。
/sbin,/usr/sbin,/usr/local/sbin | 防止一些系统管理员才会动用道德执行指令。 例如： fdisk,mke2fs,fsck,mkswap,mout等等。
/src | 一些服务启动之后，这些服务所需要取用的数据目录。举例来说，WWW服务器需要的网页资料就可以放置在 /src/www里面
/tmp | 这是让一般使用者或者日正在执行的程序暂时防止档案的地方。
/usr | 由 FHS 规范的第二层内容，在 /usr 此目录下，包含系统的主要程序、 图形接口所需要的档案、额外的函式库、本机端所自行安装的软件，以及共享的目录与文件等等， 都可以在这个目录当中发现。事实上，他有点像是 Windows 操作系统当中的『Program files』与 『WinNT』这两个目录的结合！在此目录下的重要次目录有：
• /usr/bin, /usr/sbin：一般身份使用者与系统管理员可执行的档案放置目录；
• /usr/include：c/c++等程序语言的档头 (header) 与包含档(include)放置处， 当我们以 tarball 方式 (*.tar.gz 的方式安装软件) 安装某些数据时，会使用到里头的许多包含档喔！；
• /usr/lib：各应用软件的函式库档案放置目录；
• /usr/local：本机端自行安装的软件预设放置的目录。目前也适用于 /opt 目录。 在你安装完了 Linux 之后，基本上所有的配备你都有了，但是软件总是可以升级的， 例如你要升级你的 proxy 服务，则通常软件预设的安装地方就是在 /usr/local (local 是『当地』的意思)，同时，安装完毕之后所得到的执行文件，为了与系统原先的执行文件有分别， 因此升级后的执行档通常摆在 /usr/local/bin 这个地方。给个建议啦， 通常鸟哥都会将后来才安装上去的软件放置在这里，因为便于管理呦；
• /usr/share：共享文件放置的目录，例如底下两个目录：
• /usr/share/doc：放置一些系统说明文件的地方，例如你安装了 grub 了，那么在该目录底下找一找，就可以查到 lilo 的说明文件了！很是便利！
• /usr/share/man：manpage 的文件档案目录；那是什么？呵呵！ 就是你使用 man 的时候，会去查询的路径呀！例如你使用 man ls 这个指令时，就会查出 /usr/share/man/man1/ls.1.gz 这个说明档的内容啰！
• /usr/src：Linux 系统相关的程序代码放置目录，例如/usr/src/linux 为核心原始码！
• /usr/X11R6：系统内的 X Window System 所需的执行档几乎都放在这！

/var | 这个目录也很重要，也是FHS规范的第二层目录内容。她主要防止的是针对系统只sing过程中，常态性变动的档案放置的目录。此外某些软件执行过程中会写入的数据库档案。
• /var/cache：程序档案在运作过程当中的一些暂存盘；
• /var/lib：程序本身执行的过程中，需要使用到的数据文件放置的目录， 举例来说， locate 这个数据库与 MySQL 及 rpm 等数据库系统，都写在这个目录内。
• /var/log：登录文件放置的目录。很重要啊！例如 /var/log/messages 就是总管所有登录档的一个档案！
• /var/lock：某些装置具有一次性写入的特性，例如 tab (磁带机)， 此时，为了担心被其它人干扰而破坏正在运作的动作，因此，会将该装置 lock (锁住)起来， 以确定该装置只能被单一个程序所使用啊！
• /var/run：某些程序或者是服务启动后，会将他们的 PID 放置在这个目录下喔！
• /var/spool：是一些队列数据存放的地方。举例来说，主机收到电子邮件后， 就会放置到 /var/spool/mail 当中，若信件暂时发不出去，就会放置到 /var/spool/mqueue 目录下， 使用者工作排程 (cron) 则是放置在 /var/spool/cron 当中！



什么是档案系统 (filesystem) 呢？目前的操作系统大多数是将数据由硬盘读出来的， 那么每个操作系统使用的硬盘在 x86 架构上的，都一样啊！都是同样的硬盘。 但是，每种操作系统都有其独特的读取档案的方法，也就是说， 每种操作系统对硬盘读取的方法不同，所以就造就了不同的档案系统了。